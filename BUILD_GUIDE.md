# 打飞机游戏 - 打包分发指南

## 📦 打包成功！

游戏已经成功打包成macOS应用程序，无需Python环境即可运行！

---

## 📁 打包文件位置

```
dist/打飞机游戏.app
```

**文件大小**: 约 37 MB

---

## 🚀 如何分发给朋友

### 方法一：直接发送（小于100MB）

如果通过微信、QQ等支持大文件传输的工具：

1. 找到 `dist/打飞机游戏.app` 文件
2. 直接拖拽发送给朋友

### 方法二：压缩后发送（推荐）

```bash
# 1. 进入dist目录
cd dist

# 2. 压缩成zip文件
zip -r 打飞机游戏.zip 打飞机游戏.app

# 3. 发送 打飞机游戏.zip 文件
```

压缩后大小约为 **15-20 MB**，更便于传输。

### 方法三：通过云盘分享

1. 将 `dist/打飞机游戏.app` 上传到：
   - 百度网盘
   - iCloud Drive
   - 微云
   - Google Drive
   
2. 分享链接给朋友下载

---

## 💻 朋友如何运行

### 步骤1：下载文件

- 如果收到的是 `.app` 文件：直接使用
- 如果收到的是 `.zip` 文件：双击解压

### 步骤2：首次运行

**重要**：由于macOS的安全机制，首次运行需要特殊步骤：

1. **不要直接双击！** 这样会提示"无法打开，因为它来自身份不明的开发者"

2. **正确的打开方式**：
   - 右键点击 `打飞机游戏.app`
   - 选择 "打开"
   - 在弹出的对话框中点击 "打开"
   
3. 之后就可以正常双击运行了

### 步骤3：开始游戏！

- 游戏窗口会自动打开
- 使用方向键或WASD移动
- 空格键射击
- 享受游戏！

---

## 🔧 常见问题

### Q1: 提示"打飞机游戏.app已损坏，无法打开"

**解决方案**：

```bash
# 在终端中执行以下命令
xattr -cr /path/to/打飞机游戏.app

# 或者更简单的方法：
# 1. 打开终端
# 2. 输入 xattr -cr（注意有空格）
# 3. 拖拽 打飞机游戏.app 到终端
# 4. 按回车
```

### Q2: 双击没有反应

1. 右键点击 → 选择"打开"
2. 检查是否有弹出的安全提示
3. 允许打开该应用

### Q3: 游戏窗口没有出现

1. 检查Dock栏是否有游戏图标
2. 查看"活动监视器"中是否有PlaneFight进程
3. 尝试重新打开

### Q4: 没有声音

1. 检查系统音量是否开启
2. 检查是否在系统设置中禁用了应用的音频权限

---

## 📋 系统要求

### 最低要求

- **操作系统**: macOS 10.13 或更高版本
- **处理器**: Apple Silicon (M1/M2/M3) 或 Intel
- **内存**: 100 MB 可用空间
- **显示器**: 800x600 或更高分辨率

### 兼容性

✅ Apple Silicon (M1/M2/M3) - 原生支持  
✅ Intel Mac - 通过Rosetta 2运行  
❌ Windows - 不支持（需要重新打包）  
❌ Linux - 不支持（需要重新打包）

---

## 🎮 游戏操作说明

### 基础操作

| 操作 | 按键 |
|------|------|
| 向上移动 | ⬆️ 或 W |
| 向下移动 | ⬇️ 或 S |
| 向左移动 | ⬅️ 或 A |
| 向右移动 | ➡️ 或 D |
| 射击 | 空格 |
| 重新开始 | R（游戏结束后）|
| 退出游戏 | ESC |

### 游戏规则

- **目标**: 通过8个关卡
- **生命**: 初始3条命
- **得分**: 击败不同敌机获得10-100分
- **通关**: 每关击败3架敌机即可过关

---

## 🔄 重新打包

如果需要重新打包游戏：

```bash
# 方法1：使用自动脚本
./build_app.sh

# 方法2：手动打包
python3 -m PyInstaller PlaneFight.spec --clean
```

打包后的文件在 `dist/打飞机游戏.app`

---

## 📊 打包技术细节

### 打包工具

- **PyInstaller 6.18.0**: Python应用打包工具
- **Bundle Type**: macOS .app应用程序包

### 包含的资源

- 所有游戏图片（assets/*.png, plane_models/*.png）
- 所有音效文件（assets/*.wav）
- 关卡配置（level_config.py）
- Python运行时和依赖库

### 打包配置

配置文件：`PlaneFight.spec`

关键设置：
- `console=False`: 不显示终端窗口
- `bundle_identifier`: com.chenxiao.planefight
- 包含所有资源文件的路径映射

---

## 🛡️ 隐私与安全

### 本应用不会：

- ❌ 收集任何用户数据
- ❌ 连接互联网
- ❌ 访问系统敏感信息
- ❌ 修改系统文件

### 本应用仅会：

- ✅ 读取游戏资源文件
- ✅ 播放音效
- ✅ 显示游戏窗口
- ✅ 接收键盘输入

---

## 📝 版本信息

- **游戏版本**: 1.0.0
- **打包日期**: 2026年2月10日
- **开发者**: chenxiao06
- **Bundle ID**: com.chenxiao.planefight

---

## 📧 问题反馈

如果您的朋友遇到问题，可以检查：

1. macOS 版本是否符合要求（10.13+）
2. 是否正确执行了首次打开的步骤
3. 系统安全设置是否过于严格

---

## 🎉 祝您和朋友游戏愉快！

感谢您选择这款游戏！如果喜欢，请分享给更多朋友！

---

**文档版本**: 1.0  
**最后更新**: 2026年2月10日
